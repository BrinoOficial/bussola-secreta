{"entries":[{"timestamp":1757675012390,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1568,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":69,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":238,"length1":35,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1757675627208,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":66,"length1":142,"diffs":[[1,""]]}]}]},{"timestamp":1757675628044,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":10987,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"device_forever\" x=\"89\" y=\"43\"><statement name=\"HANDLER\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value></block></statement></block><block type=\"controls_if\" disabled-reasons=\"pxt_automatic_disabled\" x=\"109\" y=\"266\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\" disabled-reasons=\"pxt_automatic_disabled\"></block></value><value name=\"B\"><shadow type=\"math_number\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"NUM\">90</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"music_playable_play\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_string_playable\" disabled-reasons=\"pxt_automatic_disabled\"><value name=\"melody\"><shadow type=\"melody_editor\" disabled-reasons=\"pxt_automatic_disabled\"><field name=\"melody\">\"A - - F - - - - \"</field></shadow></value><value name=\"bpm\"><shadow type=\"math_number_minmax\" disabled-reasons=\"pxt_automatic_disabled\"><mutation min=\"40\" max=\"500\" label=\"Bpm\" precision=\"0\"></mutation><field name=\"SLIDER\">120</field></shadow></value></shadow></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":327,"diffs":[[1,""]]},{"start1":28,"length1":842,"diffs":[[1,"    basic.showArrow(ArrowNames.North)\n    if (input.compassHeading() == 90) {\n        music.play(music.stringPlayable(\"A - - F - - - - \", 120), music.PlaybackMode.UntilDone)\n"]]}]}]},{"timestamp":1757676193112,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":10875,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</variable><variable id=\"mM]C]/bu4DM*ox,w7$q+\">completou</variable><variable id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</variable><variable id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</variable><variable id=\"QO8`vb6bwm!2muCe)]}q\">etapas</variable><variable id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</variable><variable id=\"?QQ67e{#}o~A?`Meh@A7\">senha</variable><variable id=\"=ckVrM}937+X~TUn7M4A\">caractere</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field><comment pinned=\"false\" h=\"80\" w=\"160\">ângulos desejados</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">45</field></shadow></value><value name=\"ADD3\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field><comment pinned=\"false\" h=\"80\" w=\"160\">graus de tolerância</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"500\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"977\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"device_clear_display\"></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_start_melody\"><field name=\"options\">MelodyOptions.Once</field><value name=\"melody\"><shadow type=\"device_builtin_melody\"><field name=\"melody\">Melodies.Dadadadum</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field></block></value><statement name=\"DO\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement><next><block type=\"device_clear_display\"></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":155,"diffs":[[1,""]]},{"start1":87,"length1":30,"diffs":[[1,""]]},{"start1":124,"length1":22,"diffs":[[1,""]]},{"start1":127,"length1":1,"diffs":[[1,"let alvo = 0\nlet direcao = 0\nlet completou = false\nlet etapaAtual = 0\n// ângulos desejados\nlet etapas = [\n0,\n90,\n45,\n220\n]\n// graus de tolerância\nlet margemErro = 2\nlet senha = [\n\"A\",\n\"2\",\n\"C\",\n\"7\"\n]\n"]]},{"start1":355,"length1":400,"diffs":[[1,"    if (!(completou)) {\n        direcao = input.compassHeading()\n        alvo = etapas[etapaAtual]\n        if (Math.abs(direcao - alvo) <= margemErro || Math.abs(direcao - alvo + 360) <= margemErro || Math.abs(direcao - alvo - 360) <= margemErro) {\n"]]},{"start1":632,"length1":86,"diffs":[[1,"            if (etapaAtual < etapas.length) {\n"]]},{"start1":761,"length1":104,"diffs":[[1,""]]},{"start1":797,"length1":0,"diffs":[[1,"            } else {\n"]]},{"start1":1027,"length1":48,"diffs":[[1,"                    basic.showString(\"\" + (caractere))\n"]]},{"start1":1197,"length1":80,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":238,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1757676745562,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":34,"diffs":[[1,"let etapas = [0, 90, 180, 270]\n"]]},{"start1":69,"length1":21,"diffs":[[1,""]]},{"start1":711,"length1":209,"diffs":[[1,""]]},{"start1":829,"length1":46,"diffs":[[1,"            if (etapaAtual < etapas.length-1) {\n"]]},{"start1":960,"length1":95,"diffs":[[1,"            } else {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n"]]},{"start1":1100,"length1":0,"diffs":[[1,"                completou = true\n"]]},{"start1":1473,"length1":26,"diffs":[[1,"        if (!dentroDaMargem) {\n"]]}]}]},{"timestamp":1757677295431,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":34,"diffs":[[1,"let etapas = [90, 0, 180, 0, 270]\n"]]},{"start1":178,"length1":49,"diffs":[[1,""]]},{"start1":179,"length1":299,"diffs":[[1,""]]},{"start1":225,"length1":62,"diffs":[[1,""]]},{"start1":439,"length1":40,"diffs":[[1,"        let direcao = input.compassHeading()\n"]]},{"start1":522,"length1":0,"diffs":[[1,"        let dentroDaMargem = (\n            Math.abs(direcao - alvo) <= margemErro ||\n            Math.abs(direcao - alvo + 360) <= margemErro ||\n            Math.abs(direcao - alvo - 360) <= margemErro\n        )\n"]]},{"start1":735,"length1":144,"diffs":[[1,"        let saiuDoAlvo = (\n            Math.abs(direcao - alvo) > margemSaida &&\n            Math.abs(direcao - alvo + 360) > margemSaida &&\n            Math.abs(direcao - alvo - 360) > margemSaida\n        )\n"]]}]}]},{"timestamp":1757677760800,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":122,"diffs":[[1,"let etapas = [180, 0, 90, 0, 270]\n"]]},{"start1":178,"length1":90,"diffs":[[1,"let offset = 0  // armazena a referência inicial\n"]]},{"start1":367,"length1":0,"diffs":[[1,"// converte direção absoluta em direção relativa\n"]]},{"start1":453,"length1":57,"diffs":[[1,"    let d = (input.compassHeading() - offset + 360) % 360\n    return d\n"]]},{"start1":573,"length1":261,"diffs":[[1,"    offset = input.compassHeading()  // define o \"novo Norte\"\n"]]},{"start1":797,"length1":79,"diffs":[[1,"    if (!completou && etapaAtual < etapas.length) {\n        let direcao = direcaoRelativa()\n        let alvo = etapas[etapaAtual]\n"]]},{"start1":928,"length1":125,"diffs":[[1,"        let dentroDaMargem = diferencaAngulo(direcao, alvo) <= margemErro\n        let saiuDoAlvo = diferencaAngulo(direcao, alvo) > margemSaida\n"]]},{"start1":1073,"length1":191,"diffs":[[1,"        if (dentroDaMargem && !esperandoNovoAlvo) {\n            etapaAtual += 1\n            esperandoNovoAlvo = true\n"]]},{"start1":1191,"length1":84,"diffs":[[1,"            if (etapaAtual < etapas.length) {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n            }\n"]]},{"start1":1335,"length1":641,"diffs":[[1,"            if (etapaAtual == etapas.length) {\n                completou = true\n                basic.clearScreen()\n                music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n                basic.pause(2000)\n                for (let caractere of senha) {\n                    basic.showString(caractere)\n                    basic.pause(500)\n                }\n                basic.clearScreen()\n"]]},{"start1":1780,"length1":32,"diffs":[[1,""]]},{"start1":1790,"length1":6,"diffs":[[1,""]]},{"start1":1791,"length1":56,"diffs":[[1,"        if (saiuDoAlvo) {\n            esperandoNovoAlvo = false\n        }\n"]]}]}]},{"timestamp":1757678298885,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":42,"diffs":[[1,"let etapas = [180, 0, 90, 0, 270]      // mantêm-se como ângulos \"absolutos\" desejados\nlet etapasRelativas: number[] = []\n"]]},{"start1":266,"length1":21,"diffs":[[1,"let offset = 0\nlet debug = true   // troque para true para ver valores (útil para testar)\n"]]},{"start1":496,"length1":0,"diffs":[[1,"function direcaoRelativa(): number {\n    return (input.compassHeading() - offset + 360) % 360\n}\n\n"]]},{"start1":639,"length1":0,"diffs":[[1,"    // opcional: pedir calibração se necessário\n    input.calibrateCompass()\n\n    offset = input.compassHeading()    // define \"0\" relativo\n    etapasRelativas = []\n    for (let alvo of etapas) {\n        etapasRelativas.push((alvo - offset + 360) % 360)\n    }\n\n"]]},{"start1":971,"length1":80,"diffs":[[1,"    basic.showNumber(etapaAtual + 1)\n    basic.pause(1000)\n"]]},{"start1":1062,"length1":312,"diffs":[[1,"    if (completou) return\n    if (etapaAtual >= etapasRelativas.length) return\n"]]},{"start1":1142,"length1":135,"diffs":[[1,"    let direcao = direcaoRelativa()\n    let alvo = etapasRelativas[etapaAtual]\n    let diff = diferencaAngulo(direcao, alvo)\n"]]},{"start1":1268,"length1":144,"diffs":[[1,"    if (debug) {\n        // debug simples: mostra diferença em graus (bloqueante mas útil em testes)\n        basic.showNumber(diff)\n        basic.pause(300)\n        basic.clearScreen()\n    }\n"]]},{"start1":1460,"length1":117,"diffs":[[1,"    let dentroDaMargem = diff <= margemErro\n    let saiuDoAlvo = diff > margemSaida\n"]]},{"start1":1545,"length1":534,"diffs":[[1,"    if (dentroDaMargem && !esperandoNovoAlvo) {\n        esperandoNovoAlvo = true\n        etapaAtual += 1\n        basic.pause(200) // debounce anti-bounce\n\n        if (etapaAtual < etapasRelativas.length) {\n            basic.showNumber(etapaAtual + 1)\n            basic.pause(1000)\n        } else {\n            // completou todas as etapas\n            completou = true\n            basic.clearScreen()\n            music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n            basic.pause(2000)\n            for (let caractere of senha) {\n                basic.showString(caractere)\n                basic.pause(500)\n"]]},{"start1":2200,"length1":0,"diffs":[[1,"            basic.clearScreen()\n"]]},{"start1":2242,"length1":0,"diffs":[[1,"    }\n"]]},{"start1":2249,"length1":74,"diffs":[[1,"    if (saiuDoAlvo) {\n        esperandoNovoAlvo = false\n"]]}]}]},{"timestamp":1757678807981,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":28,"diffs":[[1,"let etapas = [180, 0, 200, 0, 90, 0, 245]\n"]]}]}]},{"timestamp":1757679296859,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":34,"diffs":[[1,"let etapas = [45, 180, 315]\n"]]},{"start1":87,"length1":47,"diffs":[[1,"let senha = [\"A\", \"2\", \"C\", \"7\"]\n"]]},{"start1":193,"length1":44,"diffs":[[1,""]]},{"start1":333,"length1":495,"diffs":[[1,""]]},{"start1":472,"length1":57,"diffs":[[1,"    basic.showString(\"N\")  // avisa para alinhar ao Norte\n"]]},{"start1":699,"length1":0,"diffs":[[1,"            // Jogador está olhando para o Norte (0°)\n"]]},{"start1":1011,"length1":220,"diffs":[[1,""]]},{"start1":1403,"length1":17,"diffs":[[1,"            } else {\n                completou = true\n                basic.clearScreen()\n                music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n                basic.pause(2000)\n                for (let caractere of senha) {\n                    basic.showString(caractere)\n                    basic.pause(500)\n                }\n                basic.clearScreen()\n            }\n        }\n\n        if (saiuDoAlvo) {\n            esperandoNovoAlvo = false\n        }\n    }\n})\n"]]}]}]},{"timestamp":1757679880295,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":818,"length1":67,"diffs":[[1,"        basic.clearScreen()   // não mostra seta quando alvo é 0\n"]]},{"start1":1031,"length1":67,"diffs":[[1,"    basic.showString(\"N\")  // pede para alinhar ao Norte\n"]]},{"start1":1515,"length1":49,"diffs":[[1,"        // só atualiza a seta a cada 300ms (para não piscar muito)\n"]]},{"start1":2127,"length1":403,"diffs":[[1,"            } el\n"]]}]}]},{"timestamp":1757680095333,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":13943,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</variable><variable id=\"mM]C]/bu4DM*ox,w7$q+\">completou</variable><variable id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</variable><variable id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</variable><variable id=\"QO8`vb6bwm!2muCe)]}q\">etapas</variable><variable id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</variable><variable id=\"?QQ67e{#}o~A?`Meh@A7\">senha</variable><variable id=\"=ckVrM}937+X~TUn7M4A\">caractere</variable></variables><block type=\"device_button_event\" x=\"500\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"55\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field><comment pinned=\"false\" h=\"80\" w=\"160\">ângulos desejados</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">45</field></shadow></value><value name=\"ADD3\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field><comment pinned=\"false\" h=\"80\" w=\"160\">graus de tolerância</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"977\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_start_melody\"><field name=\"options\">MelodyOptions.Once</field><value name=\"melody\"><shadow type=\"device_builtin_melody\"><field name=\"melody\">Melodies.Dadadadum</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field></block></value><statement name=\"DO\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></statement></block></xml>"]]}]}]},{"timestamp":1757682026827,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":238,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// testes vão aqui; isto não será compilado quando este pacote for usado como uma extensão.\n"}]}],"snapshots":[{"timestamp":1757675012389,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"bussola-secreta\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1757676835711,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</variable><variable id=\"mM]C]/bu4DM*ox,w7$q+\">completou</variable><variable id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</variable><variable id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</variable><variable id=\"QO8`vb6bwm!2muCe)]}q\">etapas</variable><variable id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</variable><variable id=\"?QQ67e{#}o~A?`Meh@A7\">senha</variable><variable id=\"=ckVrM}937+X~TUn7M4A\">caractere</variable></variables><block type=\"device_button_event\" x=\"500\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"55\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field><comment pinned=\"false\" h=\"80\" w=\"160\">ângulos desejados</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">45</field></shadow></value><value name=\"ADD3\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field><comment pinned=\"false\" h=\"80\" w=\"160\">graus de tolerância</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"977\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_start_melody\"><field name=\"options\">MelodyOptions.Once</field><value name=\"melody\"><shadow type=\"device_builtin_melody\"><field name=\"melody\">Melodies.Dadadadum</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field></block></value><statement name=\"DO\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"let etapas = [0, 90, 180, 270]\nlet etapaAtual = 0\nlet margemErro = 5\nlet senha = [\"A\", \"2\", \"C\", \"7\"]\nlet completou = false\nlet esperandoNovoAlvo = false\n\ninput.onButtonPressed(Button.A, function () {\n    etapaAtual = 0\n    completou = false\n    esperandoNovoAlvo = false\n    basic.showNumber(etapaAtual + 1)\n    basic.pause(1000)\n})\n\nbasic.forever(function () {\n    if (!completou && etapaAtual < etapas.length) {\n        let direcao = input.compassHeading()\n        let alvo = etapas[etapaAtual]\n        let dentroDaMargem = (\n            Math.abs(direcao - alvo) <= margemErro ||\n            Math.abs(direcao - alvo + 360) <= margemErro ||\n            Math.abs(direcao - alvo - 360) <= margemErro\n        )\n\n        if (dentroDaMargem && !esperandoNovoAlvo) {\n            etapaAtual += 1\n            esperandoNovoAlvo = true\n\n            if (etapaAtual < etapas.length-1) {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n            } else {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n                basic.clearScreen()\n                completou = true\n                music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n                basic.pause(2000)\n                for (let caractere of senha) {\n                    basic.showString(caractere)\n                    basic.pause(500)\n                }\n                basic.clearScreen()\n            }\n        }\n\n        if (!dentroDaMargem) {\n            esperandoNovoAlvo = false\n        }\n    }\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"bussola-secreta\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1757678793596,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</variable><variable id=\"mM]C]/bu4DM*ox,w7$q+\">completou</variable><variable id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</variable><variable id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</variable><variable id=\"QO8`vb6bwm!2muCe)]}q\">etapas</variable><variable id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</variable><variable id=\"?QQ67e{#}o~A?`Meh@A7\">senha</variable><variable id=\"=ckVrM}937+X~TUn7M4A\">caractere</variable></variables><block type=\"device_button_event\" x=\"500\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"55\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field><comment pinned=\"false\" h=\"80\" w=\"160\">ângulos desejados</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">45</field></shadow></value><value name=\"ADD3\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field><comment pinned=\"false\" h=\"80\" w=\"160\">graus de tolerância</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"977\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_start_melody\"><field name=\"options\">MelodyOptions.Once</field><value name=\"melody\"><shadow type=\"device_builtin_melody\"><field name=\"melody\">Melodies.Dadadadum</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field></block></value><statement name=\"DO\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"let etapas = [180, 0, 90, 0, 270]\nlet etapaAtual = 0\nlet margemErro = 5\nlet margemSaida = 20\nlet senha = [\"A\", \"2\", \"C\", \"7\"]\nlet completou = false\nlet esperandoNovoAlvo = false\nlet alinhado = false\n\nfunction diferencaAngulo(a: number, b: number): number {\n    let diff = Math.abs(a - b) % 360\n    return diff > 180 ? 360 - diff : diff\n}\n\ninput.onButtonPressed(Button.A, function () {\n    etapaAtual = 0\n    completou = false\n    esperandoNovoAlvo = false\n    alinhado = false\n\n    basic.showString(\"N\")  // avisa para alinhar ao Norte\n})\n\nbasic.forever(function () {\n    if (!alinhado && !completou) {\n        let direcao = input.compassHeading()\n        if (diferencaAngulo(direcao, 0) <= margemErro) {\n            // Jogador está olhando para o Norte (0°)\n            alinhado = true\n            basic.showNumber(1)\n            basic.pause(1000)\n        }\n        return\n    }\n\n    if (!completou && etapaAtual < etapas.length) {\n        let direcao = input.compassHeading()\n        let alvo = etapas[etapaAtual]\n\n        let dentroDaMargem = diferencaAngulo(direcao, alvo) <= margemErro\n        let saiuDoAlvo = diferencaAngulo(direcao, alvo) > margemSaida\n\n        if (dentroDaMargem && !esperandoNovoAlvo) {\n            etapaAtual += 1\n            esperandoNovoAlvo = true\n\n            if (etapaAtual < etapas.length) {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n            } else {\n                completou = true\n                basic.clearScreen()\n                music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n                basic.pause(2000)\n                for (let caractere of senha) {\n                    basic.showString(caractere)\n                    basic.pause(500)\n                }\n                basic.clearScreen()\n            }\n        }\n\n        if (saiuDoAlvo) {\n            esperandoNovoAlvo = false\n        }\n    }\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"bussola-secreta\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1757682026827,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</variable><variable id=\"mM]C]/bu4DM*ox,w7$q+\">completou</variable><variable id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</variable><variable id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</variable><variable id=\"QO8`vb6bwm!2muCe)]}q\">etapas</variable><variable id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</variable><variable id=\"?QQ67e{#}o~A?`Meh@A7\">senha</variable><variable id=\"=ckVrM}937+X~TUn7M4A\">caractere</variable></variables><block type=\"device_button_event\" x=\"500\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"55\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field><comment pinned=\"false\" h=\"80\" w=\"160\">ângulos desejados</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">45</field></shadow></value><value name=\"ADD3\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field><comment pinned=\"false\" h=\"80\" w=\"160\">graus de tolerância</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" inline=\"false\"><mutation items=\"4\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">2</field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\">7</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"977\" y=\"20\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_heading\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">OR</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op3\"><value name=\"x\"><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ka+`3|T1sGkMMSJ_4vZJ\">direcao</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vT1N^[iW^hjWJaj~U?=y\">alvo</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AHi(Rv4=KR5o)Lt;6;Vr\">margemErro</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"QO8`vb6bwm!2muCe)]}q\">etapas</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*3*mE~P2lRrTeh+j}oFL\">etapaAtual</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"mM]C]/bu4DM*ox,w7$q+\">completou</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"device_start_melody\"><field name=\"options\">MelodyOptions.Once</field><value name=\"melody\"><shadow type=\"device_builtin_melody\"><field name=\"melody\">Melodies.Dadadadum</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"?QQ67e{#}o~A?`Meh@A7\">senha</field></block></value><statement name=\"DO\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=ckVrM}937+X~TUn7M4A\">caractere</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"let etapas = [45, 0, 180, 0, 315]\nlet etapaAtual = 0\nlet margemErro = 5\nlet margemSaida = 20\nlet senha = \"ESTAMOS EM TODOS OS COMPUTADORES\"\nlet completou = false\nlet esperandoNovoAlvo = false\nlet alinhado = false\nlet ultimaAtualizacao = input.runningTime()\n\nfunction diferencaAngulo(a: number, b: number): number {\n    let diff = Math.abs(a - b) % 360\n    return diff > 180 ? 360 - diff : diff\n}\n\nfunction setaDoAlvo(alvo: number) {\n    if (alvo == 45) {\n        basic.showArrow(ArrowNames.NorthEast)\n    } else if (alvo == 180) {\n        basic.showArrow(ArrowNames.South)\n    } else if (alvo == 315) {\n        basic.showArrow(ArrowNames.NorthWest)\n    } else if (alvo == 90) {\n        basic.showArrow(ArrowNames.East)\n    } else if (alvo == 270) {\n        basic.showArrow(ArrowNames.West)\n    } else if (alvo == 0) {\n        basic.showString(\"N\")   // agora mostra N quando alvo é 0°\n    }\n}\n\ninput.onButtonPressed(Button.A, function () {\n    etapaAtual = 0\n    completou = false\n    esperandoNovoAlvo = false\n    alinhado = false\n\n    basic.showString(\"N\")  // pede para alinhar ao Norte no início\n})\n\nbasic.forever(function () {\n    if (!alinhado && !completou) {\n        let direcao = input.compassHeading()\n        if (diferencaAngulo(direcao, 0) <= margemErro) {\n            alinhado = true\n            basic.showNumber(1)\n            basic.pause(1000)\n        }\n        return\n    }\n\n    if (!completou && etapaAtual < etapas.length) {\n        let direcao = input.compassHeading()\n        let alvo = etapas[etapaAtual]\n\n        // só atualiza a seta/letra a cada 300ms\n        if (input.runningTime() - ultimaAtualizacao > 300) {\n            setaDoAlvo(alvo)\n            ultimaAtualizacao = input.runningTime()\n        }\n\n        let dentroDaMargem = diferencaAngulo(direcao, alvo) <= margemErro\n        let saiuDoAlvo = diferencaAngulo(direcao, alvo) > margemSaida\n\n        if (dentroDaMargem && !esperandoNovoAlvo) {\n            etapaAtual += 1\n            esperandoNovoAlvo = true\n\n            if (etapaAtual < etapas.length) {\n                basic.showNumber(etapaAtual + 1)\n                basic.pause(1000)\n            } else {\n                completou = true\n                basic.clearScreen()\n                music.startMelody(music.builtInMelody(Melodies.Dadadadum), MelodyOptions.Once)\n                basic.pause(2000)\n                basic.showString(senha)\n                basic.clearScreen()\n            }\n        }\n\n        if (saiuDoAlvo) {\n            esperandoNovoAlvo = false\n        }\n    }\n})\n","README.md":"","pxt.json":"{\n    \"name\": \"bussola-secreta\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1757682026868}